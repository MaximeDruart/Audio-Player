(this["webpackJsonpaudio-player"]=this["webpackJsonpaudio-player"]||[]).push([[0],{202:function(t,a,e){},204:function(t,a,e){"use strict";e.r(a);var i=e(0),s=e.n(i),c=e(65),n=e.n(c),r=(e(77),e(66)),o=e(67),l=e(70),u=e(68),m=e(71),d=e(20),v=e.n(d),h=(e(78),e(79),e(69)),k=(e(202),e(203),function(t){function a(t){var e;return Object(r.a)(this,a),(e=Object(l.a)(this,Object(u.a)(a).call(this,t))).formatTime=function(t){t=parseInt(t);var a=parseInt(t/60),e=t-60*(a=a<10?"0"+a.toString():a.toString());return a+":"+(e=e<10?"0"+e.toString():e.toString())},e.getSongsDuration=function(){var t=e.state.musicData;e.state.musicData.tracks.forEach((function(a,e){var i=new Audio(t.tracks[e].file);t.tracks[e].duration=i.duration})),e.setState({musicData:t})},e.getData=function(){e.setState({musicData:h})},e.audios=[],e.sketch=function(t){var a,i,s;t.preload=function(){e.state.musicData.tracks.forEach((function(a){e.audios.push(t.loadSound(a.file))}))},t.setup=function(){e.setState({fileIsLoaded:!0}),t.createCanvas(t.windowWidth/5,t.windowWidth/5).parent("visualizer"),a=new v.a.FFT(.9,256),t.frameRate(60)},t.draw=function(){t.angleMode(t.DEGREES),t.background(255),i=a.analyze(),s=a.waveform(),t.translate(e.state.canvasSize.width/2,e.state.canvasSize.height/2),t.beginShape(),0===i[i.length-1]&&t.vertex(e.state.visRadius,0),i.forEach((function(a,c){var n=t.map(c,0,i.length,0,361),r=t.map(s[c],-1,1,1,1.05),o=e.state.visRadius*r,l=t.map(a,0,255,o,270),u=l*t.cos(n),m=l*t.sin(n);t.vertex(u,m)})),t.endShape()}},e.toggleAudio=function(){e.state.fileIsLoaded&e.audios[e.state.activeTrack].isPlaying()?e.audios[e.state.activeTrack].pause():e.audios[e.state.activeTrack].loop()},e.playlistSwitch=function(){"nowPlaying"===e.state.activeScreen?e.setState({activeScreen:"playlist"}):e.setState({activeScreen:"nowPlaying"})},e.state={visualizer:"",visRadius:100,musicData:"",canvasSize:{width:500,height:500},fileIsLoaded:!1,activeTrack:0,activeScreen:"nowPlaying",currentMusicTime:0},e}return Object(m.a)(a,t),Object(o.a)(a,[{key:"changeSong",value:function(t){var a=this,e="previous"===t&&this.state.activeTrack>=1,i="next"===t&&this.state.activeTrack<this.state.musicData.tracks.length-1;this.setState((function(t){return e?{activeTrack:t.activeTrack-1}:a.state.musicData&&i?(console.log(" ??? "),{activeTrack:t.activeTrack+1}):void 0})),(i||e)&&(console.log("?"),this.audios.forEach((function(t,s){i&&(s!==a.state.activeTrack+1?(t.jump(0),t.stop()):(t.jump(0),t.play())),e&&(s!==a.state.activeTrack-1?(t.jump(0),t.stop()):(t.jump(0),t.play()))})))}},{key:"componentDidMount",value:function(){var t=this;this.setState({visualizer:new v.a(this.sketch)}),this.getData(),this.interval=setInterval((function(){t.audios[t.state.activeTrack]&&t.audios[t.state.activeTrack].isPlaying()&&t.setState({currentMusicTime:parseInt(t.audios[t.state.activeTrack].currentTime())})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var t,a,e,i=this;return this.state.musicData.tracks&&(t={backgroundImage:this.state.musicData.tracks[this.state.activeTrack].cover},this.audios[this.state.activeTrack]&&(a={width:parseInt(this.state.currentMusicTime/this.audios[this.state.activeTrack].duration()*100)+"%"})),this.state.musicData.tracks&&(e=this.state.musicData.tracks.map((function(t,e){return s.a.createElement("div",{key:e,className:"playlistElement"},s.a.createElement("div",{className:"left"},s.a.createElement("div",{className:"artist"},t.artistName+" - "),s.a.createElement("div",{className:"title"},t.title)),s.a.createElement("div",{className:"duration"},i.audios[e]?i.formatTime(i.audios[e].duration()):t.duration),e===i.state.activeTrack?s.a.createElement("div",{style:a,className:"timeProgression"}):"")}))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"background"},s.a.createElement("div",{style:t,className:"bgImage"}),s.a.createElement("div",{className:"bgFilter"})),s.a.createElement("div",{className:"musicPlayer"},s.a.createElement("div",{id:"visualizer"}),s.a.createElement("div",{className:"card"},"nowPlaying"===this.state.activeScreen?s.a.createElement("div",{className:"flex-wrap"},s.a.createElement("div",{className:"info"},s.a.createElement("div",{className:"artist"},this.state.musicData?this.state.musicData.tracks[this.state.activeTrack].artistName:"artist"),s.a.createElement("div",{className:"album"},this.state.musicData?this.state.musicData.tracks[this.state.activeTrack].album:"album"),s.a.createElement("div",{className:"title"},this.state.musicData?this.state.musicData.tracks[this.state.activeTrack].title:"title")),s.a.createElement("div",{className:"controls"},s.a.createElement("div",{onClick:function(){i.changeSong("previous")},className:"before"},"before"),s.a.createElement("div",{onClick:this.toggleAudio,className:"playPause"}," ",this.state.fileIsLoaded?"play":"loading"),s.a.createElement("div",{onClick:function(){i.changeSong("next")},className:"next"},"next")),s.a.createElement("div",{className:"progressBar"},s.a.createElement("div",{className:"actualTime"},this.formatTime(this.state.currentMusicTime)),s.a.createElement("div",{className:"totalTime"},this.state.musicData.tracks&&this.audios[this.state.activeTrack]?this.formatTime(this.audios[this.state.activeTrack].duration()):"00:00"),s.a.createElement("div",{style:a,className:"timeProgression"}))):e?s.a.createElement("div",{className:"playlist"},e):"loading",s.a.createElement("div",{onClick:this.playlistSwitch,className:"playlistSwitch"},"nowPlaying"===this.state.activeScreen?"PLAYLIST":"PLAYING NOW"),s.a.createElement("div",{className:"volume"},s.a.createElement("div",{className:"volumeIcon"},"VOL"),s.a.createElement("div",{className:"volumeProgression"},s.a.createElement("div",{className:"volumePercentage"},"72%"))))))}}]),a}(i.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(s.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},69:function(t){t.exports=JSON.parse('{"tracks":[{"cover":"cover01","file":"audios/audio01.mp3","duration":"duration01","artistName":"artist01","title":"title01","album":"album01"},{"cover":"cover02","file":"audios/audio02.mp3","duration":"duration02","artistName":"artist02","title":"title02","album":"album02"},{"cover":"cover03","file":"audios/audio03.mp3","duration":"duration03","artistName":"artist03","title":"title03","album":"album03"},{"cover":"cover04","file":"audios/audio04.mp3","duration":"duration04","artistName":"artist04","title":"title04","album":"album04"}]}')},72:function(t,a,e){t.exports=e(204)},77:function(t,a,e){}},[[72,1,2]]]);
//# sourceMappingURL=main.a9dc468a.chunk.js.map