{"version":3,"sources":["play.svg","App.js","serviceWorker.js","index.js","pause.svg","next.svg","music.svg","covers/cover01.jpg","covers/cover02.jpg","covers/cover03.jpg","covers/cover04.jpg","audios/audio01.mp3","audios/audio02.mp3","audios/audio03.mp3","audios/audio04.mp3"],"names":["module","exports","App","props","storeState","localStorage","setItem","state","volume","activeTrack","setLocalStorageState","getItem","setState","JSON","parse","audios","forEach","audio","setVolume","formatTime","string","parseInt","min","second","toString","getSongsDuration","tempData","musicData","track","index","Audio","file","duration","getData","musicDataJSON","sketch","p","fft","spectrum","waveform","preload","push","loadSound","audioSources","covers","loadImage","coverSources","setGradient","x","y","w","h","c1","c2","axis","noFill","i","inter","map","c","lerpColor","stroke","line","setup","getCoverColor","fileIsLoaded","$visualizer","current","getBoundingClientRect","width","height","canvasSize","visRadius","createCanvas","parent","p5","FFT","smoothing","frameRate","drawA","angleMode","DEGREES","clear","noStroke","analyze","translate","rotate","beginShape","length","vertex","value","angle","valueCopy","cosVal","cos","sinVal","sin","fill","coverColor","endShape","waveformMultiplier","minimum","ellipse","draw","slice","Math","floor","rect","pop","windowResized","resizeCanvas","toggleAudio","trackNumber","trackNbParam","jump","stop","isPlaying","pause","prevState","play","dragAndDrop","event","target","clientY","clientX","type","upDownDelay","Date","setTimeout","mouseIsDown","mouseDragStart","startVolume","changeVolume","mouseDragDeltas","relativePos","Vibrant","getPalette","then","palette","LightVibrant","getRgb","changeSongMoment","songCMT","currentMusicTime","fade","changeSong","direction","canChangePrevious","canChangeNext","playlistSwitch","activeScreen","optionSwitch","displayOptions","keyboardEventsHandler","window","addEventListener","code","visualizer","visRadiusCopy","React","createRef","$cover","cover1","cover2","cover3","cover4","audio1","audio2","audio3","audio4","this","interval","setInterval","currentTime","clearInterval","backgroundImageStyle","cmtWidthStyle","soundStyle","renderedPlaylist","soundTransformValue","backgroundSize","backgroundPosition","key","className","onClick","alt","src","pauseButton","playButton","artistName","title","style","transitionName","transitionEnterTimeout","transitionLeaveTimeout","id","ref","transitionAppear","transitionAppearTimeout","album","nextSymbol","onMouseDown","onMouseUp","onMouseMove","onMouseLeave","musicSymbol","Component","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3fbc5273.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/play.3d0531f4.svg\";","import React, { Component } from 'react'\r\nimport p5 from 'p5'\r\nimport 'p5/lib/addons/p5.sound'\r\nimport * as Vibrant from 'node-vibrant'\r\nimport musicDataJSON from './musicData.json'\r\nimport './App.css'\r\nimport playButton from './play.svg'\r\nimport pauseButton from './pause.svg'\r\nimport musicSymbol from './music.svg'\r\nimport nextSymbol from './next.svg'\r\nimport cover1 from './covers/cover01.jpg'\r\nimport cover2 from './covers/cover02.jpg'\r\nimport cover3 from './covers/cover03.jpg'\r\nimport cover4 from './covers/cover04.jpg'\r\nimport audio1 from './audios/audio01.mp3'\r\nimport audio2 from './audios/audio02.mp3'\r\nimport audio3 from './audios/audio03.mp3'\r\nimport audio4 from './audios/audio04.mp3'\r\nimport { CSSTransitionGroup } from 'react-transition-group'\r\nimport * as gsap from 'gsap/all'\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      visualizer: \"\",\r\n      visRadius: \"\",\r\n      musicData: \"\",\r\n      canvasSize: {\r\n        width: \"\",\r\n        height: \"\"\r\n      },\r\n      fileIsLoaded: false,\r\n      activeTrack: 0,\r\n      activeScreen: \"nowPlaying\",\r\n      displayOptions : false,\r\n      currentMusicTime: 0,\r\n      volume: 0.4,\r\n      audios: [],\r\n      coverColor: \"white\",\r\n      mouseIsDown : false,\r\n      smoothing : 0.8,\r\n    }\r\n    this.visRadiusCopy = 0\r\n    this.$visualizer = React.createRef()\r\n    this.$cover = React.createRef()\r\n    this.audios = []\r\n    this.covers = []\r\n    this.coverSources = [cover1, cover2, cover3, cover4]\r\n    this.audioSources = [audio1, audio2, audio3, audio4]\r\n\r\n    this.mouseDragStart = {}\r\n    this.mouseDragDeltas= {}\r\n    this.startVolume = this.state.volume\r\n  }\r\n\r\n  storeState = () => {\r\n    localStorage.setItem('volume', this.state.volume)\r\n    localStorage.setItem('activeTrack', this.state.activeTrack)\r\n  }\r\n\r\n  setLocalStorageState = () => {\r\n    if (localStorage.getItem('volume') && localStorage.getItem('activeTrack')) {\r\n      this.setState({\r\n        volume: JSON.parse(localStorage.getItem('volume')),\r\n        activeTrack: JSON.parse(localStorage.getItem('activeTrack'))\r\n      })\r\n    }\r\n    if (this.state.audios) this.state.audios.forEach(audio => audio.setVolume(this.state.volume))\r\n  }\r\n\r\n  formatTime = string => {\r\n    string = parseInt(string)\r\n    let min = (parseInt(string / 60))\r\n    min = min < 10 ? \"0\" + min.toString() : min.toString()\r\n    let second = string - min * 60\r\n    second = second < 10 ? \"0\" + second.toString() : second.toString()\r\n    return min + \":\" + second\r\n  }\r\n\r\n  getSongsDuration = () => {\r\n    let tempData = this.state.musicData\r\n    this.state.musicData.forEach((track, index) => {\r\n      let audio = new Audio(tempData[index].file)\r\n      tempData[index].duration = audio.duration\r\n    })\r\n    this.setState({ musicData: tempData });\r\n  }\r\n\r\n  getData = () => {\r\n    // wanted to do an api call but couldn't find an api that'd give me audio files...\r\n    this.setState({ musicData: musicDataJSON });\r\n  }\r\n\r\n\r\n  sketch = p => {\r\n    let fft\r\n    let spectrum\r\n    let waveform\r\n\r\n    p.preload = () => {\r\n      this.state.musicData.forEach((track, index) => {\r\n        this.audios.push(p.loadSound(this.audioSources[index]))\r\n        this.covers.push(p.loadImage(this.coverSources[index]))\r\n      })\r\n    }\r\n\r\n    // https://p5js.org/examples/color-linear-gradient.html\r\n\r\n    p.setGradient = (x, y, w, h, c1, c2, axis) => {\r\n      p.noFill()\r\n      if (axis === \"Y_AXIS\") {\r\n        // Top to bottom gradient\r\n        for (let i = y; i <= y + h; i++) {\r\n          let inter = p.map(i, y, y + h, 0, 1);\r\n          let c = p.lerpColor(c1, c2, inter);\r\n          p.stroke(c);\r\n          p.line(x, i, x + w, i);\r\n        }\r\n      } else if (axis === \"X_AXIS\") {\r\n        // Left to right gradient\r\n        for (let i = x; i <= x + w; i++) {\r\n          let inter = p.map(i, x, x + w, 0, 1);\r\n          let c = p.lerpColor(c1, c2, inter);\r\n          p.stroke(c);\r\n          p.line(i, y, i, y + h);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    p.setup = () => {\r\n      this.getCoverColor()\r\n      this.setState({ fileIsLoaded: true, audios: this.audios })\r\n      let { width, height } = this.$visualizer.current.getBoundingClientRect()\r\n      this.setState({\r\n        canvasSize: { width: width, height: height },\r\n        visRadius: (width * 1/2) / 2 // canvas is a half of its container and we divide by 2 again for radius and not diameter\r\n      })\r\n      p.createCanvas(width, height).parent('canvasContainer')\r\n      fft = new p5.FFT(this.state.smoothing, 256)\r\n      p.frameRate(60)\r\n    }\r\n\r\n    // vertices version\r\n    p.drawA = () => {\r\n      p.angleMode(p.DEGREES)\r\n      p.clear()\r\n      p.noStroke()\r\n      spectrum = fft.analyze()\r\n      waveform = fft.waveform()\r\n      p.translate(this.state.canvasSize.width / 2, this.state.canvasSize.height / 2)\r\n      p.rotate(60)\r\n      p.beginShape()\r\n      if (spectrum[spectrum.length - 1] === 0) p.vertex(this.state.visRadius, 0)\r\n      spectrum.forEach((value, index) => {\r\n        let angle = p.map(index, 0, spectrum.length, 0, 360)\r\n        let valueCopy = p.map(value, 0, 255, this.state.visRadius, this.state.canvasSize.width * 0.6)\r\n        let cosVal = valueCopy * p.cos(angle)\r\n        let sinVal = valueCopy * p.sin(angle)\r\n        p.fill(this.state.coverColor)\r\n        p.vertex(cosVal, sinVal)\r\n      })\r\n      p.endShape()\r\n\r\n\r\n      p.beginShape()\r\n      // if (this.visRadiusCopy < this.state.visRadius) {\r\n      // this.visRadiusCopy += 15\r\n      // } else this.visRadiusCopy = this.state.visRadius\r\n      \r\n      spectrum.forEach((value, index) => {\r\n        let angle = p.map(index, 0, spectrum.length, 0, 360)\r\n        let waveformMultiplier = p.map(waveform[index], -1, 1, 1, 1.05)\r\n        let minimum = this.state.visRadius * waveformMultiplier * 1.05\r\n        let x = p.cos(angle) * minimum\r\n        let y = p.sin(angle) * minimum\r\n        p.vertex(x, y)\r\n        p.fill(\"#16191D\")\r\n        p.ellipse(0, 0, minimum, minimum)\r\n      })\r\n      p.endShape()\r\n    }\r\n\r\n    p.draw = () => {\r\n      p.angleMode(p.DEGREES)\r\n      p.clear()\r\n      p.noStroke()\r\n      spectrum = fft.analyze()\r\n      waveform = fft.waveform()\r\n      p.translate(this.state.canvasSize.width / 2, this.state.canvasSize.height / 2)\r\n      p.rotate(-20)\r\n      spectrum =  spectrum.slice(0, Math.floor(spectrum.length *(2/3)))\r\n      spectrum.forEach((value, index) => {\r\n        let angle = p.map(index, 0, spectrum.length, 0, 360)\r\n        let valueCopy = p.map(value, 0, 255, this.state.visRadius*1.10, this.state.canvasSize.width * 0.4)\r\n        let cosVal = valueCopy * p.cos(angle)\r\n        let sinVal = valueCopy * p.sin(angle)\r\n        p.fill(this.state.coverColor)\r\n        p.noStroke()\r\n        p.push()\r\n        p.rotate(angle)\r\n        p.rect(0, 0, 9, valueCopy)\r\n        // if (this.state.coverColor !==\"white\") {\r\n        //   p.setGradient(0, 0, 12, valueCopy, p.color(0,0,0), p.color(255,255,255), \"X_AXIS\")\r\n        // } else {\r\n        //   let c1 = this.state.coverColor\r\n        //   c1 = p.color(c1[0], c1[1], c1[2])\r\n        //   p.setGradient(0, 0, 12, valueCopy, c1, p.color(255, 255, 255), \"X_AXIS\")\r\n        // }\r\n        p.pop()\r\n      })\r\n\r\n      \r\n\r\n      p.beginShape()\r\n      // if (this.visRadiusCopy < this.state.visRadius) {\r\n      // this.visRadiusCopy += 15\r\n      // } else this.visRadiusCopy = this.state.visRadius\r\n      \r\n      spectrum.forEach((value, index) => {\r\n        let angle = p.map(index, 0, spectrum.length, 0, 360)\r\n        let waveformMultiplier = p.map(waveform[index], -1, 1, 1, 1.05)\r\n        let minimum = this.state.visRadius * waveformMultiplier * 1.05\r\n        let x = p.cos(angle) * minimum\r\n        let y = p.sin(angle) * minimum\r\n        p.vertex(x, y)\r\n        p.fill(\"#16191D\")\r\n        p.ellipse(0, 0, minimum, minimum)\r\n      })\r\n      p.endShape()\r\n    }\r\n\r\n    p.windowResized = () => {\r\n      let { width, height } = this.$visualizer.current.getBoundingClientRect()\r\n      this.setState({\r\n        canvasSize: { width: width, height: height },\r\n        visRadius: (width * 2 / 3) / 2\r\n      })\r\n      p.resizeCanvas(width, height)\r\n    }\r\n\r\n  }\r\n\r\n  toggleAudio = (trackNbParam = \"noparam\") => {\r\n    let trackNumber\r\n    if (trackNbParam === \"noparam\") {\r\n      trackNumber = this.state.activeTrack\r\n    } else {\r\n      trackNumber = trackNbParam\r\n      this.setState({ activeTrack: trackNbParam });\r\n    }\r\n    this.state.audios.forEach((audio, index) => {\r\n      if (index !== trackNumber) {\r\n        audio.jump(0)\r\n        audio.stop()\r\n      }\r\n    })\r\n    if (this.state.fileIsLoaded && this.state.audios[trackNumber]) {\r\n      if (this.state.audios[trackNumber].isPlaying()) {\r\n        this.state.audios[trackNumber].pause()\r\n        this.setState(prevState => {\r\n          return { audios: prevState.audios };\r\n        });\r\n      } else {\r\n        this.state.audios[trackNumber].play()\r\n        this.setState(prevState => {\r\n          return { audios: prevState.audios };\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  dragAndDrop = event => {\r\n    const {target, clientY, clientX} = event\r\n    const {height, width} = target.getBoundingClientRect()\r\n\r\n    if (event.type === 'mousedown') {\r\n      this.upDownDelay = new Date()      \r\n      // waiting for the volume slide animation to end\r\n      setTimeout(() => {\r\n        this.setState({ mouseIsDown: true })\r\n      }, 200)\r\n\r\n      this.mouseDragStart = {\r\n        x : clientX,\r\n        y : clientY\r\n      }\r\n      this.startVolume = this.changeVolume(event)\r\n    } else if (event.type === 'mousemove' && this.state.mouseIsDown) {\r\n      this.mouseDragDeltas = {\r\n        x : (this.mouseDragStart.x - (clientX)) / width, \r\n        y: (this.mouseDragStart.y - (clientY)) / height, \r\n      }\r\n      this.setState({ volume: this.startVolume + this.mouseDragDeltas.y })\r\n\r\n    } else if (event.type === 'mouseup' || event.type === 'mouseleave') {\r\n      // kinda sketchy but it's the simpliest to avoid conflicts with simple click (who fires down and up events in less than .2s)\r\n      if (new Date()-this.upDownDelay < 300) {\r\n        setTimeout(() => {\r\n          this.setState({ mouseIsDown: false })\r\n        }, 200)\r\n      } else {\r\n        this.setState({ mouseIsDown: false })\r\n      }\r\n    }\r\n  }\r\n\r\n  changeVolume = event => {\r\n    let { target, clientY } = event\r\n    let { height, y } = target.getBoundingClientRect()\r\n    let relativePos = clientY - y\r\n    relativePos /= height\r\n    relativePos = 1 - relativePos\r\n    this.setState({ volume: relativePos })\r\n    this.state.audios.forEach((audio) => {\r\n      audio.setVolume(relativePos)\r\n    })\r\n    return relativePos\r\n  }\r\n\r\n\r\n  getCoverColor = () => {\r\n    Vibrant.from(this.coverSources[this.state.activeTrack]).getPalette()\r\n      .then((palette) => this.setState({ coverColor: palette.LightVibrant.getRgb() }))\r\n  }\r\n\r\n  changeSongMoment = event => {\r\n    let { target, clientX } = event\r\n    let { width, x } = target.getBoundingClientRect()\r\n    let relativePos = clientX - x\r\n    relativePos /= width\r\n    if (this.state.audios[this.state.activeTrack]) {\r\n      this.state.audios[this.state.activeTrack].stop()\r\n      setTimeout(() => {\r\n        let songCMT = parseInt(relativePos * this.state.audios[this.state.activeTrack].duration())\r\n        this.setState({ currentMusicTime: songCMT })\r\n        this.state.audios[this.state.activeTrack].jump(songCMT)\r\n        this.state.audios[this.state.activeTrack].fade(this.state.volume, 2)\r\n      }, 10);\r\n    }\r\n  }\r\n\r\n  changeSong = direction => {\r\n    if (this.state.currentMusicTime > 3 && direction === \"previous\") {\r\n      this.state.audios[this.state.activeTrack].stop()\r\n      setTimeout(() => {\r\n        this.setState({ currentMusicTime: 0 });\r\n        this.state.audios[this.state.activeTrack].jump(0)\r\n      }, 10)\r\n      return\r\n    }\r\n    let canChangePrevious = direction === \"previous\" && this.state.activeTrack >= 1\r\n    let canChangeNext = direction === \"next\" && this.state.activeTrack < this.state.musicData.length - 1\r\n    this.setState(prevState => {\r\n      if (canChangePrevious) {\r\n        return { activeTrack: prevState.activeTrack - 1 }\r\n      } else if (this.state.musicData) {\r\n        if (canChangeNext) {\r\n          return { activeTrack: prevState.activeTrack + 1 }\r\n        }\r\n      }\r\n    })\r\n\r\n    // c'est ghetto mais jsp pas pourquoi il y a un délai sur la modif de state au dessus\r\n    setTimeout(() => {\r\n      if (canChangeNext || canChangePrevious) {\r\n        this.getCoverColor()\r\n        this.state.audios.forEach((audio, index) => {\r\n          if (canChangeNext) {\r\n            if (index !== this.state.activeTrack) {\r\n              audio.jump(0)\r\n              audio.stop()\r\n            } else {\r\n              audio.jump(0)\r\n              audio.fade(this.state.volume, 5)\r\n            }\r\n          } else if (canChangePrevious) {\r\n            if (index !== this.state.activeTrack) {\r\n              audio.jump(0)\r\n              audio.stop()\r\n            } else {\r\n              audio.jump(0)\r\n              audio.fade(this.state.volume, 5)\r\n            }\r\n          }\r\n        })\r\n      }\r\n    }, 150);\r\n  }\r\n\r\n  playlistSwitch = () => {\r\n    if (this.state.activeScreen === \"nowPlaying\") {\r\n      this.setState({ activeScreen: \"playlist\" })\r\n    } else {\r\n      this.setState({ activeScreen: \"nowPlaying\" })\r\n    }\r\n  }\r\n\r\n  optionSwitch = () => {\r\n    this.setState(prevState => {\r\n      return { displayOptions: !prevState.displayOptions }\r\n    })\r\n  }\r\n\r\n  keyboardEventsHandler = () => {\r\n\r\n    window.addEventListener('keydown', event => {\r\n      if (this.state.audios[this.state.activeTrack]) {\r\n        switch (event.code) {\r\n          case \"Space\":\r\n            this.toggleAudio()\r\n            break;\r\n\r\n          case \"ArrowRight\":\r\n            this.changeSong(\"next\")\r\n            break;\r\n\r\n          case \"ArrowLeft\":\r\n            this.changeSong(\"previous\")\r\n\r\n            break;\r\n\r\n          case \"ArrowUp\":\r\n            if (this.state.volume >= 0.95) {\r\n              this.setState({ volume: 1 });\r\n            } else {\r\n              this.setState(prevState => {\r\n                return { volume: prevState.volume + 0.05 };\r\n              })\r\n            }\r\n            break;\r\n          case \"ArrowDown\":\r\n            if (this.state.volume <= 0.05) {\r\n              this.setState({ volume: 0 });\r\n            } else {\r\n              this.setState(prevState => {\r\n                return { volume: prevState.volume - 0.05 };\r\n              })\r\n            }\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setLocalStorageState()\r\n    this.getData()\r\n\r\n    this.setState({\r\n      visRadius : (this.$visualizer.current.getBoundingClientRect().width *2/3) / 2,\r\n      visualizer: new p5(this.sketch)\r\n    })\r\n    this.keyboardEventsHandler()\r\n\r\n    this.interval = setInterval(() => {\r\n      if (this.state.audios[this.state.activeTrack]) {\r\n        if (this.state.audios[this.state.activeTrack].isPlaying()) {\r\n          this.setState({ currentMusicTime: parseInt(this.state.audios[this.state.activeTrack].currentTime()) });\r\n        }\r\n      }\r\n    }, 10)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval)\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.storeState()\r\n  }\r\n\r\n  render() {\r\n    let backgroundImageStyle\r\n    let cmtWidthStyle\r\n    let soundStyle\r\n    let soundTransformValue = 50\r\n    if (this.state.musicData) {\r\n      backgroundImageStyle = {\r\n        'backgroundImage': `url(${this.coverSources[this.state.activeTrack]})`,\r\n        backgroundSize: 'auto 105%',\r\n        backgroundPosition: 'center center'\r\n      }\r\n      if (this.state.audios[this.state.activeTrack]) {\r\n        cmtWidthStyle = {\r\n          'width': parseInt((this.state.currentMusicTime / this.state.audios[this.state.activeTrack].duration()) * 100) + \"%\"\r\n        }\r\n        soundTransformValue = -(1 - this.state.volume) * 100\r\n        soundStyle = {\r\n          'transform': `rotate(180deg) translateY(${soundTransformValue}%)`,\r\n          'transition': this.state.mouseIsDown ? 'none' : 'transform 0.2s ease-in-out'\r\n        }\r\n      }\r\n    }\r\n    let renderedPlaylist\r\n    if (this.state.musicData) {\r\n      renderedPlaylist = this.state.musicData.map((track, index) =>\r\n        <div key={index} className=\"playlistElement\">\r\n          <img\r\n            onClick={() => { this.toggleAudio(index) }}\r\n            alt=\"cover\"\r\n            src={!this.state.audios[index]\r\n              ? playButton\r\n              : this.state.audios[index].isPlaying() ? pauseButton : playButton\r\n            }\r\n            className=\"playButton\"\r\n          ></img>\r\n          <div className=\"playlistWrap\">\r\n            <div className=\"left\">\r\n              <div className=\"artist\">{track.artistName + \" - \"}</div>\r\n              <div className=\"dash\">-</div>\r\n              <div className=\"title\">{track.title}</div>\r\n            </div>\r\n            <div className=\"duration\">{this.state.audios[index] ? this.formatTime(this.state.audios[index].duration()) : track.duration}</div>\r\n            {(index === this.state.activeTrack) ? <div style={cmtWidthStyle} className=\"timeProgression\"></div> : \"\"}\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"background\">\r\n          <CSSTransitionGroup\r\n            transitionName=\"bgTransition\"\r\n            transitionEnterTimeout={300}\r\n            transitionLeaveTimeout={300}\r\n          >\r\n            <div key={this.state.activeTrack} style={backgroundImageStyle} className=\"bgImage\"></div>\r\n          </CSSTransitionGroup>\r\n          <div className=\"bgFilter\"></div>\r\n        </div>\r\n        <div className=\"musicPlayer\">\r\n          <div className=\"visualizer\">\r\n            {/* dummy div for to replace p5 base loading screen */}\r\n            <div style={{'display' : 'none'}} id=\"p5_loading\" className=\"loading\">LOADING</div>\r\n            <div className = {!this.state.fileIsLoaded ? \"loadingAnim load-on\" : \"loadingAnim load-off\"}>\r\n            </div>\r\n            <div ref={this.$visualizer} id=\"canvasContainer\"></div>\r\n            {this.state.fileIsLoaded && this.state.audios[this.state.activeTrack] ?\r\n              ( !this.state.displayOptions ?\r\n                <CSSTransitionGroup\r\n                  transitionName=\"cover\"\r\n                  transitionAppear={true}\r\n                  transitionAppearTimeout={500}\r\n                  transitionEnterTimeout={500}\r\n                  transitionLeaveTimeout={300}\r\n                >\r\n                  <div onClick={this.optionSwitch} ref={this.$cover} key={this.state.activeTrack} style={backgroundImageStyle} className=\"cover cover-img\"></div>\r\n                </CSSTransitionGroup>\r\n                : <div onClick={this.optionSwitch} ref={this.$cover} key={this.state.activeTrack} className=\"cover cover-options\">\r\n                  <div className=\"options-wrapper\">\r\n                    <div className=\"option option-smoothing\">\r\n                      <div className=\"title\">Smoothing</div>\r\n                      <div className=\"bar\">\r\n                        <div className=\"progressBar\"></div>\r\n                        <div className=\"startValue\">0</div>\r\n                        <div className=\"endValue\">1</div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"option option-size\">\r\n                      <div className=\"title\">Max size</div>\r\n                      <div className=\"bar\">\r\n                        <div className=\"progressBar\"></div>\r\n                        <div className=\"startValue\">120</div>\r\n                        <div className=\"endValue\">180</div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"option option-freq\">\r\n                      <div className=\"title\">frequency broadness</div>\r\n                      <div className=\"bar\">\r\n                        <div className=\"progressBar\"></div>\r\n                        <div className=\"startValue\">64</div>\r\n                        <div className=\"endValue\">1024</div>\r\n                      </div>\r\n                    </div>   \r\n                  </div>\r\n                </div>\r\n                )\r\n              : \"\"\r\n            }\r\n          </div>\r\n          <div className=\"card\">\r\n            {this.state.activeScreen === \"nowPlaying\" ?\r\n              <div className=\"flex-wrap\">\r\n                <div className=\"info\">\r\n                  <div className=\"artist\">{this.state.musicData ? this.state.musicData[this.state.activeTrack].artistName : \"artist\"}</div>\r\n                  <div className=\"album\">{this.state.musicData ? this.state.musicData[this.state.activeTrack].album : \"album\"}</div>\r\n                  <div className=\"title\">{this.state.musicData ? this.state.musicData[this.state.activeTrack].title : \"title\"}</div>\r\n                </div>\r\n                <div className=\"controls\">\r\n                  <img\r\n                    src={nextSymbol}\r\n                    onClick={() => { this.changeSong(\"previous\") }}\r\n                    className=\"before\"\r\n                    alt=\"before-button\"\r\n                  ></img>\r\n                  <img\r\n                    src={this.state.fileIsLoaded ? (this.state.audios[this.state.activeTrack].isPlaying() ? pauseButton : playButton) : playButton}\r\n                    onClick={()=> {this.toggleAudio() }}\r\n                    className=\"playPause\"\r\n                    alt=\"play music\"\r\n                  ></img>\r\n                  <img\r\n                    src={nextSymbol}\r\n                    onClick={() => { this.changeSong(\"next\") }}\r\n                    className=\"next\"\r\n                    alt=\"next-button\"\r\n                  ></img>\r\n                </div>\r\n                <div onClick={this.changeSongMoment} className=\"progressBar\">\r\n                  <div className=\"actualTime\">{this.formatTime(this.state.currentMusicTime)}</div>\r\n                  <div className=\"totalTime\">{\r\n                    this.state.musicData && this.state.audios[this.state.activeTrack] ? this.formatTime(this.state.audios[this.state.activeTrack].duration()) : \"00:00\"\r\n                  }</div>\r\n                  <div\r\n                    style={cmtWidthStyle}\r\n                    className=\"timeProgression\"\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n              : renderedPlaylist ?\r\n                // <CSSTransitionGroup\r\n                //     transitionName = \"playlist-pop\"\r\n                //     transitionEnterTimeout={500}\r\n                //     transitionLeaveTimeout={300}\r\n                // >\r\n                <div key={this.state.activeTrack} className=\"playlist\">{renderedPlaylist}</div>\r\n                // </CSSTransitionGroup>\r\n                : \"loading\"\r\n            }\r\n            <div onClick={this.playlistSwitch} className=\"playlistSwitch\">{this.state.activeScreen === 'nowPlaying' ? \"PLAYLIST\" : 'PLAYING NOW'}</div>\r\n            <div\r\n              onMouseDown = {this.dragAndDrop}\r\n              onMouseUp = {this.dragAndDrop}\r\n              onMouseMove = {this.dragAndDrop}\r\n              onMouseLeave = {this.dragAndDrop}\r\n              className=\"volume\"\r\n            >\r\n              <img src={musicSymbol} alt=\"music symobl\" className=\"volumeIcon\"></img>\r\n              <div style={soundStyle} className=\"volumeProgression\">\r\n                <div className=\"volumePercentage\">{parseInt(this.state.volume * 100)}%</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n\r\n// // 1 : FETCH :\r\n// // fetch va aller chercher des données à une adresse x et les return.\r\n// // La particularité de fetch c'est que c'est une promesse\r\n// // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises\r\n// //https://mdn.mozillademos.org/files/15911/promises.png\r\n// // donc une promesse a la particularité d'etre asynchrone, ce qui veut dire que le code que tu vas chain (avec then) va attendre que la promesse ne soit plus en statut \"attente\" (soit pending, cf. schema)\r\n// // Une fois plus en attente, la promesse peut avoir 2 statuts : réussite ou échec.\r\n// // Si c'est une réussite, on va éxécuter le .then(), si c'est un échec le .catch() (mais bon tu t'en fous de l'échec en vrai)\r\n// let data\r\n// fetch(\"https://ladressedetonfichier.com\") // on fetch a l'adresse\r\n// .then((fetchedData) => { // si le promesse a un statut \"succès\", le .then() est lu. Il aura en parametre ce que fetch est allé chercher\r\n//     fetchedData.json() // si les données sont de type JSON il faut lui appliquer la méthode donnée.json() pour le transformer en un objet standard\r\n// })\r\n// .then((jsonData) => { // json() renvoie une promesse je sais pas pq, mais donc tu peux la rechain et la stocker\r\n//     data = jsonData\r\n// }) \r\n\r\n\r\n// // MAIS : tout ca sert a rien si ton fichier est local parce que il y aura pas le délai qui vient d'une requete faite sur internet et donc pas besoin d'écrire du code asynchrone (promesse)\r\n// // Tu peux juste avoir ton fichier mesDonnees.json avec tes fichiers\r\n// // Dans tes scripts tu l'importes comme si c'était un fichier js standard et le lire en tant qu'objet.\r\n// // Dans ce cas la le json est pas du tout nécessaire mais c'est une manière pratique de stocker une quantité de donnée importante sans que ca pollue ton javascript","module.exports = __webpack_public_path__ + \"static/media/pause.a83244f8.svg\";","module.exports = __webpack_public_path__ + \"static/media/next.b4705597.svg\";","module.exports = __webpack_public_path__ + \"static/media/music.40b86523.svg\";","module.exports = __webpack_public_path__ + \"static/media/cover01.1845849d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/cover02.19f85108.jpg\";","module.exports = __webpack_public_path__ + \"static/media/cover03.83d85b4c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/cover04.b93229bb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/audio01.dc170e87.mp3\";","module.exports = __webpack_public_path__ + \"static/media/audio02.04420354.mp3\";","module.exports = __webpack_public_path__ + \"static/media/audio03.750bbe23.mp3\";","module.exports = __webpack_public_path__ + \"static/media/audio04.95225891.mp3\";"],"sourceRoot":""}